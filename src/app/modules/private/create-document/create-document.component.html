<div id="create-document">
  <div class="container-main">
    <div class="section-top mt-5">
      <a class="buton-back" href="/service">
        <i class="bx bx-left-arrow-alt"></i>
        <span>Trở về</span>
      </a>

      <div class="service-name mt-3">
        Mẫu yêu cầu hỗ trợ về
        <span>
          {{ service.name }}
        </span>
      </div>
    </div>
    <div class="section-bottom">
      <p-tabView class="tab-create-document">
        <p-tabPanel header="Offline">
          <div
            class="create-doc-offline not-tailwind"
            [innerHTML]="service.description"
          >
            <!-- <iframe [srcdoc]="sanitizer.bypassSecurityTrustHtml(service.description)" frameborder="0" scrolling="no" sandbox="allow-same-origin allow-scripts"></iframe> -->
          </div>
        </p-tabPanel>

        <p-tabPanel header="Online">
          <div class="create-doc-online">
            <div *ngFor="let attribute of service.attributeFormServices" class="mt-3">
                <div>
                  <label class="block lable-input">{{ attribute.name }}:</label>
                  <!-- Kiểm tra kiểu dữ liệu và render tương ứng -->
                  <ng-container *ngIf="attribute.type === 'Input'; then inputField; else checkboxSelect"></ng-container>
                  <!-- Template cho Input -->
                  <ng-template #inputField>
                    <input 
                    class="mt-1" 
                    [(ngModel)]="attributeValues[attribute.id]" 
                    type="text" 
                    nz-input 
                    [placeholder]="attribute.name" 
                    nzSize="large" 
                    (input)="handleInput($event, attribute.id)" />
                  </ng-template>
                  <!-- Template cho Checkbox -->
                  <ng-template #checkboxSelect>
                    <div class="" *ngIf="attribute.type === 'Checkbox'">
                      <nz-checkbox-wrapper style="width: 100%;">
                        <div class="mt-3" *ngFor="let option of attribute.attributeFormEnums">
                          
                          <input type="checkbox" [id]="'checkbox-' + attribute.id + '-' + option.id" [checked]="option.checked" (change)="handleCheckboxChange($event, attribute.id, option.id)">
                          <label [for]="'checkbox-' + attribute.id + '-' + option.id">{{option.name}}</label>
                        </div>
                      </nz-checkbox-wrapper>
                    </div>
                  </ng-template>
                  <!-- Template cho Select -->
                  <ng-container *ngIf="attribute.type.toLowerCase() === 'select'; then selectField else otherField"></ng-container>
                <ng-template #otherField>
                <!-- Templates for other field types -->
                </ng-template>

                <ng-template #selectField>
                <div class="" *ngIf="attribute.type.toLowerCase() === 'select'">
                    <nz-select [(ngModel)]="attributeValues[attribute.id]" nzAllowClear [nzPlaceHolder]="attribute.name">
                    <nz-option *ngFor="let option of attribute.attributeFormEnums" [nzValue]="option.id" [nzLabel]="option.name"></nz-option>
                    </nz-select>
                </div>
                </ng-template>
                </div>
              </div>
              
          </div>
          <div class="btn-action flex justify-center">
            <button class="btn-submit" (click)="getFormData()">Đăng ký</button>
      
          </div>
        </p-tabPanel>
      </p-tabView>
    </div>

    
  </div>

  
</div>
